<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Insert title here</title>
	
	<link rel="stylesheet" href="view/css/styles.css">

	<script src = "../libs/jquery2_2_3.js"></script>

	<script src = "model/Edge.js"></script>
	<script src = "model/Node.js"></script>
	<script src = "model/Graph.js"></script>

	
	<script src = "view/widgets/View.js"></script>
	<script src = "view/widgets/CircleView.js"></script>
	<script src = "view/widgets/EdgeView.js"></script>
	<script src = "view/widgets/GraphView.js"></script>
	<script src = "view/widgets/WidgetFactory.js"></script>
	<script src = "dao/DataProvider.js"></script>
	<script src = "controller/MainController.js"></script>


</head>

<body>

	<div >
	
		<div class = "controlPanel">
			<div class="dropdown">
				<button class="dropbtn">Load data</button>
				<div class="dropdown-content">
					<a id= "link1" href="#">Data set 1</a>
					<a id= "link2" href="#">Data set 2</a>
					<a id= "link3" href="#">Data set 3</a>
				</div>
			</div>
		</div>
		
		<div class = "diagram">
			<canvas id="myCanvas" width = "800px" height = "800px"></canvas>
		</div>
		
		<canvas id="canvas2" width = "800px" height = "800px"></canvas>
	</div>

	<script>
	
		var mainController = new MainController();
		var canvasId = "myCanvas";
		var dataSetType = DATA_SET_TYPE.DATA_SET_1;
	
		mainController.buildDiagram(canvasId, dataSetType);
	
		$("#link1").click(function() {
			mainController.buildDiagram(canvasId, DATA_SET_TYPE.DATA_SET_1);
		});
	
		$("#link2").click(function() {
			mainController.buildDiagram(canvasId, DATA_SET_TYPE.DATA_SET_2);
		});
	
		$("#link3").click(function() {
			// mainController.buildDiagram(canvasId, DATA_SET_TYPE.DATA_SET_3);
		});
		
		
		// Get mouse position
	      function writeMessage(canvas, message) {
	          var context = canvas.getContext('2d');
	          context.clearRect(0, 0, canvas.width, canvas.height);
	          context.font = '12pt Calibri';
	          context.fillStyle = 'black';
	          context.fillText(message, 10, 55, 500);
	        }
	      
	      function getMousePos(canvas, evt) {
	          var rect = canvas.getBoundingClientRect();
	          return {
	            x: evt.clientX - rect.left,
	            y: evt.clientY - rect.top
	          };
	        }
	        var canvas = document.getElementById('canvas2');
	        var context = canvas.getContext('2d');

	        canvas.addEventListener('mousemove', function(evt) {
	          var mousePos = getMousePos(canvas, evt);
	          var message = 'Mouse position: x = ' + mousePos.x + ', y = ' + mousePos.y + '';
	          
	          writeMessage(canvas, message);
	        }, false);
	        
	</script>

	<script>
				
		function handler() {
		  alert('Create a circle!');
		}
		
		myCanvas.addEventListener("click", handler) // Назначение обработчика
	
	</script>

</body>
</html>